prefixes:
  rr: http://www.w3.org/ns/r2rml#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  rml: http://semweb.mmlab.be/ns/rml#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  ns: http://DeportesMadridGroup2.es/Espacios/ontology/#
  nso: http://DeportesMadridGroup2.es/Espacios/instances/#
  
mappings:
  triplesmap1:
    sources:
      - [./csv/espacio_deporte_analizado.csv~csv]
    s: nso:$(PK)
    po:
      - [a, ns:$(TIPO)]
      - [ns:tieneNombre, $(NOMBRE)]
      - [ns:tieneLocalidad, $(LOCALIDAD)]
      - [ns:tieneCodigoPostal, $(CODIGO-POSTAL)]
      - [ns:seEncuentraEn, $(BARRIO)]
      - [ns:tieneDistrito, $(DISTRITO)]
      - p: ns:tienelocalizacion
        o:
          mapping: triplesmap2
          condition:
            function: equal
            parameters: 
            - [str1, $(PK)]
            
      - p: ns:tienedireccion
        o:
          mapping: triplesmap3
          condition:
            function: equal
            parameters:
            - [str1, $(PK)]
            
  triplesmap2:
    sources:
      - [./csv/espacio_deporte_analizado.csv~csv]
    s: nso:Localizacion$(PK)
    po:
      - [a, ns:Localizacion]
      - [ns:tieneLongitud, $(LONGITUD)]
      - [ns:tieneLatitud, $(LATITUD)]
      
  triplesmap3:
    sources:
      - [./csv/espacio_deporte_analizado.csv~csv]
    s: nso:Direccion$(PK)
    po:
      - [a, ns:Direccion]
      - [ns:tieneNumero, $(NUM)]
      - p: ns:tieneCalle
        o:
          mapping: triplesmap4
          condition:
            function: equal
            parameters:
            - [str1, $(PK)]
  triplesmap4:
    sources:
      - [./csv/espacio_deporte_analizado.csv~csv]
    s: nso:calle/$(NOMBRE-VIA)
    po:
      - [a, ns:Calle]
  triplesmap5:
    sources:
    - [./csv/espacioDeporte_analizado_withLinks.csv~csv]
    s: nso:$(DISTRITO)
    po:
     - [owl:sameAs, $(wikidata_id_distrito)]
  triplesmap6:
    sources:
    - [./csv/espacioDeporte_analizado_withLinks.csv~csv]
    s: nso:$(BARRIO)
    po:
     - [owl:sameAs, $(wikidata_id_Barrio)]
